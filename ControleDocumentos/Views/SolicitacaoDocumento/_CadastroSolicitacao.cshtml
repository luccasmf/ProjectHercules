@model ControleDocumentosLibrary.SolicitacaoDocumento

<h1>Cadastro de Solicitação</h1>
<br />

@using (Html.BeginForm("SalvarSolicitacao", "SolicitacaoDocumento", FormMethod.Post, new { @class = "frm-submit" }))
{
    @Html.HiddenFor(x => x.IdSolicitacao)
    <div class="form-group row">
        <div class="col-md-6">
            @Html.Label("Tipo de documento*")
            @if (Model.IdSolicitacao > 0)
            {
                @Html.DropDownListFor(x => x.TipoDocumento, (SelectList)ViewBag.TiposDocumento, "Selecione", new { @id = "ddlTipoDoc", @class = "form-control", @disabled = true })
            }
            else
            {
                @Html.DropDownListFor(x => x.TipoDocumento, (SelectList)ViewBag.TiposDocumento, "Selecione", new { @id = "ddlTipoDoc", @class = "form-control", @required = "required" })
            }
        </div>
        <div class="col-md-3">
            @Html.Label("Prazo*")
            @Html.TextBoxFor(x => x.DataLimite, new { @id = "txtPrazo", @class = "form-control datepicker", @required = "required", @Value = Model.DataLimite == DateTime.MinValue ? DateTime.Now.AddDays(7).ToShortDateString() : Model.DataLimite.ToShortDateString() })
        </div>
    </div>

    <div class="form-group row">
        <div class="col-md-6">
            @Html.Label("Curso*")
            @if (Model.IdSolicitacao > 0)
            {
                @Html.DropDownListFor(x => x.AlunoCurso.IdCurso, (SelectList)ViewBag.Cursos, "Selecione", new { @id = "ddlCurso", @class = "form-control", @disabled = true })
            }
            else {
                @Html.DropDownListFor(x => x.AlunoCurso.IdCurso, (SelectList)ViewBag.Cursos, "Selecione", new { @id = "ddlCurso", @class = "form-control", @required = "required", @url = Url.Action("GetAlunosByIdCurso", "SolicitacaoDocumento") })
            }
        </div>
    </div>

    <div class="form-group row">
        <div class="col-md-6">
            @Html.Label("Aluno*")
            @if (Model.IdSolicitacao > 0)
            {
                @Html.DropDownListFor(x => x.AlunoCurso.IdAluno, (SelectList)ViewBag.Alunos, "Selecione", new { @id = "ddlAluno", @class = "form-control", @disabled = true })
            }
            else {
                @Html.DropDownListFor(x => x.AlunoCurso.IdAluno, (SelectList)ViewBag.Alunos, "Selecione", new { @id = "ddlAluno", @class = "form-control", @required = "required" })
            }
        </div>
    </div>

    <div class="form-group row">
        <div class="col-md-9">
            @Html.Label("Observações")
            @Html.TextAreaFor(x => x.Observacao, new { @style = "resize: none;", @class = "form-control", @rows=10})
        </div>
    </div>

    <div class="text-right">
        <a type="button" class="btn btn-default btnCancelar" url="@Url.Action("Index", "SolicitacaoDocumento")">Cancelar</a>
        <button type="submit" class="btn btn-primary">Salvar</button>
    </div>
}

